name: Deploy to GoDaddy

on:
  push:
    branches: [ main ]  # Triggers on push to main

jobs:
  deploy:
    runs-on: ubuntu-latest  # Free GitHub runner

    steps:
    - name: Checkout code
      uses: actions/checkout@v4  # Pulls your latest code

    # Optional: Add a build step here in the future, e.g.:
    # - name: Build (if using npm)
    #   run: npm install && npm run build
    #   Then change the path below to './dist' or './build'

    - name: Deploy to GoDaddy via FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5  # Popular, secure action for FTP
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        port: 21  # Default FTP port
        local-dir: ./  # Upload entire repo root (your HTML/CSS/JS/image)
        server-dir: /public_html/  # GoDaddy's web root
        exclude: |  # Skip Git files and workflows (optional, keeps it clean)
          **/.git*
          **/.github/workflows/*
          README.md
          .gitignore
        dangerous-clean-slate: false  # Don't wipe server; only update changed files (safer)